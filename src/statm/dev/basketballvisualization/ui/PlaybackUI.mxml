<?xml version="1.0" encoding="utf-8"?>
<s:Group 
    width="940" height="50"
    xmlns:fx="http://ns.adobe.com/mxml/2009"
    xmlns:s="library://ns.adobe.com/flex/spark"
    xmlns:mx="library://ns.adobe.com/flex/mx"
    xmlns:ui="statm.dev.basketballvisualization.ui.*">

    <fx:Script>
        <![CDATA[
            import statm.dev.basketballvisualization.data.entities.Game;

            [Bindable]
            private var game:Game;

            public function setGame(game:Game):void
            {
                this.game = game;
            }

            private function scrubber_mouseDownHandler(event:MouseEvent):void
            {
                game.startScrub();
                stage.addEventListener(MouseEvent.MOUSE_UP, stage_mouseUpHandler);
            }

            private function stage_mouseUpHandler(event:MouseEvent):void
            {
                game.stopScrub();
                stage.removeEventListener(MouseEvent.MOUSE_UP, stage_mouseUpHandler);
            }
        ]]>
    </fx:Script>

    <ui:PlayButton id="playButton"
        width="60"
        verticalCenter="0"
        click="game.isPlaying ? game.stop() : game.play(1)"
        game="{game}"
        skinClass="statm.dev.basketballvisualization.ui.skins.PlayButtonSkin"/>

    <ui:ScrubBar id="scrubber"
        height="20"
        left="70" right="0"
        verticalCenter="0"
        maximum="{game.totalFrame}"
        minimum="0"
        stepSize="1"
        value="@{game.playhead}"
        mouseDown="scrubber_mouseDownHandler(event)"
        game="{game}"
        skinClass="statm.dev.basketballvisualization.ui.skins.ScrubBarSliderSkin"/>
</s:Group>
